<!DOCTYPE html>
<html lang="en">
<head>
    <title>简单的天气查询</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
</head>
<body>
<!--<input type="text" id="email">-->
<!--<label><input type="radio" name="weekday" id="monday" value="1"> Monday</label>-->
<!--<label><input type="radio" name="weekday" id="tuesday" value="2"> Tuesday</label>-->
<!--<script>-->
    <!--var input = document.getElementById("email");-->
    <!--input.value = '1638388435@qq.com';-->
<!--</script>-->
<!--<form id="login-form" method="post" onsubmit="return checkForm()">-->
    <!--<input type="text" id="username" name="username">-->
    <!--<input type="password" id="input-password">-->
    <!--<input type="hidden" id="md5-password" name="password">-->
    <!--<button type="submit">Submit</button>-->
<!--</form>-->
<!--<script>-->
    <!--function checkForm() {-->
        <!--var input_pwd = document.getElementById('input-password');-->
        <!--var md5_pwd = document.getElementById('md5-password');-->
        <!--// 把用户输入的明文变为MD5:-->
        <!--md5_pwd.value = toMD5(input_pwd.value);-->
        <!--// 继续下一步:-->
        <!--return true;-->
    <!--}-->
<!--</script>-->
<!--<form id="test-register" action="#" target="_blank" onsubmit="return checkRegisterForm()">-->
    <!--<p id="test-error" style="color:red"></p>-->
    <!--<p>-->
        <!--用户名: <input type="text" id="username" name="username">-->
    <!--</p>-->
    <!--<p>-->
        <!--口令: <input type="password" id="password" name="password">-->
    <!--</p>-->
    <!--<p>-->
        <!--重复口令: <input type="password" id="password-2">-->
    <!--</p>-->
    <!--<p>-->
        <!--<button type="submit">提交</button> <button type="reset">重置</button>-->
    <!--</p>-->
<!--</form>-->
<!--<script>-->
    <!--var-->
         <!--username = document.getElementById('username');-->
         <!--pw = document.getElementById('password');-->
         <!--pw1 = document.getElementById('password-2');-->
         <!--a = /[\w{3,10}]/;-->
         <!--b = /[.{6,20}]/;-->
    <!--if(a.test(username.value)&&b.test(pw)&&b.test(pw1)&&pw.value === pw1.value)){-->
        <!--alert('True!');-->
    <!--}else{-->
        <!--alert('False!');-->
    <!--}-->
<!--</script>-->
<!--<input type="file">-->
<!--<script>-->
    <!--var f = document.getElementById('test-file-upload');-->
    <!--var filename = f.value; // 'C:\fakepath\test.png'-->
    <!--if (!filename || !(filename.endsWith('.jpg') || filename.endsWith('.png') || filename.endsWith('.gif'))) {-->
        <!--alert('Can only upload image file.');-->
        <!--return false;-->
    <!--}-->
<!--</script>-->
<div style="width:1000px;margin:100px auto;">
    <h1>天气查询</h1>
    <input    type="text" placeholder="请输出你的地址" id="tel"/>
    <button id="ajax">确定</button>
    <p><span id="reslut"></span></p>
</div>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">
    $(function() {
        $('#ajax').click(function() {
            var $reslutval = $('#tel').val();
            if($reslutval == '') {
                alert('内容不能为空！');
                return;
            }
            $.ajax({
                type: 'GET',
                dataType: 'jsonp',
                jsonp: 'callback',
                jsonpcallback: 'getName',
                url: 'http://api.asilu.com/weather/', //天气查询api
                data: {
                    'city': $reslutval
                },
                success: function(data) {
                    var reslutData = data;
                    $('#reslut').text('你查询的是：' + reslutData.city + "," + "明天的天气是：" + reslutData.weather[0].weather + ',' + "今天是" + reslutData.weather[0].date + ',' + '温度：' + reslutData.weather[0].temp);
                },
            })
        })
</script>
</body>
</html>